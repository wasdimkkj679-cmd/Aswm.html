<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#f97316">
  <meta name="description" content="ØªØ·Ø¨ÙŠÙ‚ ÙˆØµÙØ§ØªÙŠ - Ø§Ø­ÙØ¸ ÙˆØµÙØ§ØªÙƒ Ø§Ù„Ù…ÙØ¶Ù„Ø©">
  <title>ÙˆØµÙØ§ØªÙŠ ğŸ²</title>
  <link rel="manifest" href="data:application/json;base64,ewogICJuYW1lIjogItin2YTZiNi12YHYp9iq2YoiLAogICJzaG9ydF9uYW1lIjogItin2YTZiNi12YHYp9iq2YoiLAogICJkZXNjcmlwdGlvbiI6ICLYqti32KjZitmCINmE2K3Zgdi4INmI2LXZgdin2KrZgyDYp9mE2YXZgdi22YTYqSIsCiAgInN0YXJ0X3VybCI6ICIvIiwKICAiZGlzcGxheSI6ICJzdGFuZGFsb25lIiwKICAiYmFja2dyb3VuZF9jb2xvciI6ICIjZmZmZmZmIiwKICAidGhlbWVfY29sb3IiOiAiI2Y5NzMxNiIsCiAgIm9yaWVudGF0aW9uIjogInBvcnRyYWl0IiwKICAiaWNvbnMiOiBbCiAgICB7CiAgICAgICJzcmMiOiAiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAxMDAgMTAwJyUzRSUzQ3JlY3Qgd2lkdGg9JzEwMCcgaGVpZ2h0PScxMDAnIGZpbGw9JyVmOTczMTYnLyUzRSUzQ3RleHQgeD0nNTAnIHk9JzY1JyBmb250LXNpemU9JzYwJyB0ZXh0LWFuY2hvcj0nbWlkZGxlJyUzRSVGMCU5RiU4RCVCMiUzQy90ZXh0JTNFJTNDL3N2ZyUzRSIsCiAgICAgICJzaXplcyI6ICIxOTJ4MTkyIiwKICAgICAgInR5cGUiOiAiaW1hZ2Uvc3ZnK3htbCIKICAgIH0sCiAgICB7CiAgICAgICJzcmMiOiAiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAxMDAgMTAwJyUzRSUzQ3JlY3Qgd2lkdGg9JzEwMCcgaGVpZ2h0PScxMDAnIGZpbGw9JyVmOTczMTYnLyUzRSUzQ3RleHQgeD0nNTAnIHk9JzY1JyBmb250LXNpemU9JzYwJyB0ZXh0LWFuY2hvcj0nbWlkZGxlJyUzRSVGMCU5RiU4RCVCMiUzQy90ZXh0JTNFJTNDL3N2ZyUzRSIsCiAgICAgICJzaXplcyI6ICI1MTJ4NTEyIiwKICAgICAgInR5cGUiOiAiaW1hZ2Uvc3ZnK3htbCIKICAgIH0KICBdCn0=">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap');
    body { font-family: 'Cairo', sans-serif; }
    .line-clamp-2 { display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
    #installBtn { animation: pulse 2s infinite; }
    @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.8; } }
  </style>
</head>
<body class="bg-gradient-to-br from-orange-50 to-orange-100 min-h-screen">
  <div id="app"></div>

  <script type="module">
    import React, { useState, useEffect } from 'https://cdn.skypack.dev/react@18';
    import ReactDOM from 'https://cdn.skypack.dev/react-dom@18/client';
    import { Heart, Plus, X, Edit2, Trash2, Search, Star, Download } from 'https://cdn.skypack.dev/lucide-react';

    const simpleHash = (str) => {
      let hash = 0;
      for (let i = 0; i < str.length; i++) {
        const char = str.charCodeAt(i);
        hash = ((hash << 5) - hash) + char;
        hash = hash & hash;
      }
      return hash.toString();
    };

    const storage = {
      get(key, def = null) {
        try {
          const v = localStorage.getItem(key);
          return v ? JSON.parse(v) : def;
        } catch { return def; }
      },
      set(key, val) {
        localStorage.setItem(key, JSON.stringify(val));
      }
    };

    const auth = {
      init() {
        if (!localStorage.getItem('ADMIN_HASH')) {
          localStorage.setItem('ADMIN_HASH', simpleHash('admin123'));
        }
      },
      login(pw) {
        return simpleHash(pw) === localStorage.getItem('ADMIN_HASH');
      }
    };

    function RecipeCard({ recipe, onOpen, fav, onFav, onEdit, onDelete, isAdmin }) {
      return React.createElement('div', { className: 'bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow' },
        recipe.image && React.createElement('img', { src: recipe.image, alt: recipe.title, className: 'h-48 w-full object-cover' }),
        React.createElement('div', { className: 'p-4' },
          React.createElement('div', { className: 'flex items-start justify-between mb-2' },
            React.createElement('h3', { className: 'font-bold text-lg text-gray-800' }, recipe.title),
            recipe.rating && React.createElement('div', { className: 'flex items-center text-yellow-500' },
              React.createElement(Star, { className: 'w-4 h-4 fill-current' }),
              React.createElement('span', { className: 'text-sm mr-1' }, recipe.rating)
            )
          ),
          React.createElement('p', { className: 'text-sm text-gray-600 mb-3 line-clamp-2' }, recipe.description),
          React.createElement('div', { className: 'flex items-center text-xs text-gray-500 mb-3' },
            React.createElement('span', { className: 'mr-3' }, 'â±ï¸ ' + (recipe.prepTime || '30') + ' Ø¯Ù‚ÙŠÙ‚Ø©'),
            React.createElement('span', null, 'ğŸ‘¥ ' + (recipe.servings || '4') + ' Ø£Ø´Ø®Ø§Øµ')
          ),
          React.createElement('div', { className: 'flex justify-between items-center' },
            React.createElement('button', { 
              onClick: onOpen,
              className: 'text-orange-500 hover:text-orange-600 font-medium text-sm'
            }, 'Ø¹Ø±Ø¶ Ø§Ù„ÙˆØµÙØ© â†'),
            React.createElement('div', { className: 'flex gap-2' },
              React.createElement('button', {
                onClick: onFav,
                className: `${fav ? 'text-red-500' : 'text-gray-400'} hover:scale-110 transition-transform`
              }, React.createElement(Heart, { className: `w-5 h-5 ${fav ? 'fill-current' : ''}` })),
              isAdmin && [
                React.createElement('button', { key: 'edit', onClick: onEdit, className: 'text-blue-500 hover:text-blue-600' },
                  React.createElement(Edit2, { className: 'w-5 h-5' })
                ),
                React.createElement('button', { key: 'delete', onClick: onDelete, className: 'text-red-500 hover:text-red-600' },
                  React.createElement(Trash2, { className: 'w-5 h-5' })
                )
              ]
            )
          )
        )
      );
    }

    function RecipeModal({ recipe, onClose }) {
      return React.createElement('div', {
        className: 'fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50',
        onClick: onClose
      },
        React.createElement('div', {
          className: 'bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto',
          onClick: e => e.stopPropagation()
        },
          recipe.image && React.createElement('img', { src: recipe.image, alt: recipe.title, className: 'w-full h-64 object-cover' }),
          React.createElement('div', { className: 'p-6' },
            React.createElement('div', { className: 'flex justify-between items-start mb-4' },
              React.createElement('h2', { className: 'text-3xl font-bold text-gray-800' }, recipe.title),
              React.createElement('button', { onClick: onClose, className: 'text-gray-500 hover:text-gray-700' },
                React.createElement(X, { className: 'w-6 h-6' })
              )
            ),
            React.createElement('p', { className: 'text-gray-600 mb-6' }, recipe.description),
            React.createElement('div', { className: 'grid grid-cols-3 gap-4 mb-6 text-center' },
              React.createElement('div', { className: 'bg-orange-50 p-3 rounded-lg' },
                React.createElement('div', { className: 'text-2xl mb-1' }, 'â±ï¸'),
                React.createElement('div', { className: 'text-sm text-gray-600' }, (recipe.prepTime || '30') + ' Ø¯Ù‚ÙŠÙ‚Ø©')
              ),
              React.createElement('div', { className: 'bg-orange-50 p-3 rounded-lg' },
                React.createElement('div', { className: 'text-2xl mb-1' }, 'ğŸ‘¥'),
                React.createElement('div', { className: 'text-sm text-gray-600' }, (recipe.servings || '4') + ' Ø£Ø´Ø®Ø§Øµ')
              ),
              React.createElement('div', { className: 'bg-orange-50 p-3 rounded-lg' },
                React.createElement('div', { className: 'text-2xl mb-1' }, 'â­'),
                React.createElement('div', { className: 'text-sm text-gray-600' }, (recipe.rating || '5') + '/5')
              )
            ),
            recipe.ingredients && React.createElement('div', { className: 'mb-6' },
              React.createElement('h3', { className: 'text-xl font-bold mb-3 text-gray-800' }, 'Ø§Ù„Ù…Ù‚Ø§Ø¯ÙŠØ±'),
              React.createElement('ul', { className: 'space-y-2' },
                recipe.ingredients.split('\n').map((ing, i) =>
                  React.createElement('li', { key: i, className: 'flex items-start' },
                    React.createElement('span', { className: 'text-orange-500 mr-2' }, 'â€¢'),
                    React.createElement('span', { className: 'text-gray-700' }, ing)
                  )
                )
              )
            ),
            recipe.steps && React.createElement('div', null,
              React.createElement('h3', { className: 'text-xl font-bold mb-3 text-gray-800' }, 'Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªØ­Ø¶ÙŠØ±'),
              React.createElement('ol', { className: 'space-y-3' },
                recipe.steps.split('\n').map((step, i) =>
                  React.createElement('li', { key: i, className: 'flex items-start' },
                    React.createElement('span', { className: 'bg-orange-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-3 flex-shrink-0' }, i + 1),
                    React.createElement('span', { className: 'text-gray-700 pt-0.5' }, step)
                  )
                )
              )
            )
          )
        )
      );
    }

    function EditModal({ recipe, onSave, onClose }) {
      const [form, setForm] = useState(recipe || {
        title: '', description: '', image: '', prepTime: '30',
        servings: '4', rating: '5', ingredients: '', steps: ''
      });

      const handleSave = () => {
        if (!form.title || !form.description) {
          alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù…Ù„Ø¡ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©');
          return;
        }
        onSave(form);
      };

      return React.createElement('div', {
        className: 'fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50',
        onClick: onClose
      },
        React.createElement('div', {
          className: 'bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto',
          onClick: e => e.stopPropagation()
        },
          React.createElement('div', { className: 'p-6' },
            React.createElement('div', { className: 'flex justify-between items-center mb-6' },
              React.createElement('h2', { className: 'text-2xl font-bold' }, recipe ? 'ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ÙˆØµÙØ©' : 'Ø¥Ø¶Ø§ÙØ© ÙˆØµÙØ© Ø¬Ø¯ÙŠØ¯Ø©'),
              React.createElement('button', { onClick: onClose, className: 'text-gray-500 hover:text-gray-700' },
                React.createElement(X, { className: 'w-6 h-6' })
              )
            ),
            React.createElement('div', { className: 'space-y-4' },
              React.createElement('div', null,
                React.createElement('label', { className: 'block text-sm font-medium mb-1' }, 'Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙˆØµÙØ© *'),
                React.createElement('input', {
                  type: 'text', value: form.title,
                  onChange: e => setForm({...form, title: e.target.value}),
                  className: 'w-full border border-gray-300 rounded-lg p-2'
                })
              ),
              React.createElement('div', null,
                React.createElement('label', { className: 'block text-sm font-medium mb-1' }, 'Ø§Ù„ÙˆØµÙ *'),
                React.createElement('textarea', {
                  value: form.description,
                  onChange: e => setForm({...form, description: e.target.value}),
                  className: 'w-full border border-gray-300 rounded-lg p-2',
                  rows: 2
                })
              ),
              React.createElement('div', null,
                React.createElement('label', { className: 'block text-sm font-medium mb-1' }, 'Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©'),
                React.createElement('input', {
                  type: 'url', value: form.image,
                  onChange: e => setForm({...form, image: e.target.value}),
                  className: 'w-full border border-gray-300 rounded-lg p-2',
                  placeholder: 'https://example.com/image.jpg'
                })
              ),
              React.createElement('div', { className: 'grid grid-cols-3 gap-4' },
                React.createElement('div', null,
                  React.createElement('label', { className: 'block text-sm font-medium mb-1' }, 'Ø§Ù„ÙˆÙ‚Øª (Ø¯Ù‚ÙŠÙ‚Ø©)'),
                  React.createElement('input', {
                    type: 'number', value: form.prepTime,
                    onChange: e => setForm({...form, prepTime: e.target.value}),
                    className: 'w-full border border-gray-300 rounded-lg p-2'
                  })
                ),
                React.createElement('div', null,
                  React.createElement('label', { className: 'block text-sm font-medium mb-1' }, 'Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø´Ø®Ø§Øµ'),
                  React.createElement('input', {
                    type: 'number', value: form.servings,
                    onChange: e => setForm({...form, servings: e.target.value}),
                    className: 'w-full border border-gray-300 rounded-lg p-2'
                  })
                ),
                React.createElement('div', null,
                  React.createElement('label', { className: 'block text-sm font-medium mb-1' }, 'Ø§Ù„ØªÙ‚ÙŠÙŠÙ…'),
                  React.createElement('input', {
                    type: 'number', min: '1', max: '5', step: '0.1', value: form.rating,
                    onChange: e => setForm({...form, rating: e.target.value}),
                    className: 'w-full border border-gray-300 rounded-lg p-2'
                  })
                )
              ),
              React.createElement('div', null,
                React.createElement('label', { className: 'block text-sm font-medium mb-1' }, 'Ø§Ù„Ù…Ù‚Ø§Ø¯ÙŠØ± (Ø³Ø·Ø± Ù„ÙƒÙ„ Ù…Ù‚Ø¯Ø§Ø±)'),
                React.createElement('textarea', {
                  value: form.ingredients,
                  onChange: e => setForm({...form, ingredients: e.target.value}),
                  className: 'w-full border border-gray-300 rounded-lg p-2',
                  rows: 4, placeholder: 'ÙƒÙˆØ¨ Ø¯Ù‚ÙŠÙ‚\nÙ…Ù„Ø¹Ù‚ØªØ§Ù† Ø³ÙƒØ±\n...'
                })
              ),
              React.createElement('div', null,
                React.createElement('label', { className: 'block text-sm font-medium mb-1' }, 'Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ­Ø¶ÙŠØ± (Ø³Ø·Ø± Ù„ÙƒÙ„ Ø®Ø·ÙˆØ©)'),
                React.createElement('textarea', {
                  value: form.steps,
                  onChange: e => setForm({...form, steps: e.target.value}),
                  className: 'w-full border border-gray-300 rounded-lg p-2',
                  rows: 5, placeholder: 'Ø§Ø®Ù„Ø· Ø§Ù„Ù…Ù‚Ø§Ø¯ÙŠØ± Ø§Ù„Ø¬Ø§ÙØ©\nØ£Ø¶Ù Ø§Ù„Ø³ÙˆØ§Ø¦Ù„\n...'
                })
              ),
              React.createElement('div', { className: 'flex gap-3 pt-2' },
                React.createElement('button', {
                  onClick: handleSave,
                  className: 'flex-1 bg-orange-500 text-white py-2 rounded-lg hover:bg-orange-600 font-medium'
                }, 'Ø­ÙØ¸'),
                React.createElement('button', {
                  onClick: onClose,
                  className: 'flex-1 bg-gray-200 text-gray-700 py-2 rounded-lg hover:bg-gray-300 font-medium'
                }, 'Ø¥Ù„ØºØ§Ø¡')
              )
            )
          )
        )
      );
    }

    function App() {
      const [recipes, setRecipes] = useState([]);
      const [favorites, setFavorites] = useState([]);
      const [admin, setAdmin] = useState(false);
      const [pw, setPw] = useState('');
      const [view, setView] = useState(null);
      const [editRecipe, setEditRecipe] = useState(null);
      const [search, setSearch] = useState('');
      const [filter, setFilter] = useState('all');
      const [deferredPrompt, setDeferredPrompt] = useState(null);
      const [showInstall, setShowInstall] = useState(false);

      useEffect(() => {
        auth.init();
        setRecipes(storage.get('recipes', []));
        setFavorites(storage.get('favorites', []));

        const handler = e => {
          e.preventDefault();
          setDeferredPrompt(e);
          setShowInstall(true);
        };

        window.addEventListener('beforeinstallprompt', handler);
        
        if (window.matchMedia('(display-mode: standalone)').matches) {
          setShowInstall(false);
        }

        return () => window.removeEventListener('beforeinstallprompt', handler);
      }, []);

      const handleInstall = async () => {
        if (!deferredPrompt) return;
        deferredPrompt.prompt();
        const { outcome } = await deferredPrompt.userChoice;
        if (outcome === 'accepted') {
          setShowInstall(false);
        }
        setDeferredPrompt(null);
      };

      const saveRecipes = (r) => {
        setRecipes(r);
        storage.set('recipes', r);
      };

      const toggleFavorite = (id) => {
        const f = favorites.includes(id) ? favorites.filter(x => x !== id) : [...favorites, id];
        setFavorites(f);
        storage.set('favorites', f);
      };

      const login = () => {
        if (auth.login(pw)) {
          setAdmin(true);
          setPw('');
        } else {
          alert('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø®Ø§Ø·Ø¦Ø©');
        }
      };

      const handleSaveRecipe = (recipe) => {
        if (recipe.id) {
          saveRecipes(recipes.map(r => r.id === recipe.id ? recipe : r));
        } else {
          saveRecipes([{ ...recipe, id: Date.now() }, ...recipes]);
        }
        setEditRecipe(null);
      };

      const handleDelete = (id) => {
        if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„ÙˆØµÙØ©ØŸ')) {
          saveRecipes(recipes.filter(r => r.id !== id));
        }
      };

      const filteredRecipes = recipes.filter(r => {
        const matchesSearch = r.title.toLowerCase().includes(search.toLowerCase()) ||
                             r.description.toLowerCase().includes(search.toLowerCase());
        const matchesFilter = filter === 'all' || (filter === 'favorites' && favorites.includes(r.id));
        return matchesSearch && matchesFilter;
      });

      return React.createElement('div', { className: 'min-h-screen bg-gradient-to-br from-orange-50 to-orange-100' },
        React.createElement('div', { className: 'max-w-7xl mx-auto p-4 md:p-6' },
          React.createElement('div', { className: 'bg-white rounded-2xl shadow-lg p-6 mb-6' },
            React.createElement('div', { className: 'flex flex-col md:flex-row justify-between items-center gap-4' },
              React.createElement('h1', { className: 'text-4xl font-bold text-orange-600 flex items-center gap-2' }, 'ğŸ² ÙˆØµÙØ§ØªÙŠ'),
              React.createElement('div', { className: 'flex gap-2 items-center' },
                showInstall && React.createElement('button', {
                  id: 'installBtn',
                  onClick: handleInstall,
                  className: 'bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 font-medium flex items-center gap-2'
                },
                  React.createElement(Download, { className: 'w-5 h-5' }),
                  'ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚'
                ),
                !admin ? React.createElement(React.Fragment, null,
                  React.createElement('input', {
                    type: 'password', value: pw,
                    onChange: e => setPw(e.target.value),
                    placeholder: 'ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø§Ù„Ø£Ø¯Ù…Ù†',
                    className: 'border border-gray-300 rounded-lg px-4 py-2',
                    onKeyPress: e => e.key === 'Enter' && login()
                  }),
                  React.createElement('button', {
                    onClick: login,
                    className: 'bg-orange-500 text-white px-6 py-2 rounded-lg hover:bg-orange-600 font-medium'
                  }, 'Ø¯Ø®ÙˆÙ„')
                ) : React.createElement('button', {
                  onClick: () => setEditRecipe({}),
                  className: 'bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 font-medium flex items-center gap-2'
                },
                  React.createElement(Plus, { className: 'w-5 h-5' }),
                  'Ø¥Ø¶Ø§ÙØ© ÙˆØµÙØ©'
                )
              )
            )
          ),

          React.createElement('div', { className: 'bg-white rounded-2xl shadow-lg p-4 mb-6' },
            React.createElement('div', { className: 'flex flex-col md:flex-row gap-4' },
              React.createElement('div', { className: 'flex-1 relative' },
                React.createElement(Search, { className: 'absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5' }),
                React.createElement('input', {
                  type: 'text', value: search,
                  onChange: e => setSearch(e.target.value),
                  placeholder: 'Ø§Ø¨Ø­Ø« Ø¹Ù† ÙˆØµÙØ©...',
                  className: 'w-full border border-gray-300 rounded-lg pl-10 pr-4 py-2'
                })
              ),
              React.createElement('div', { className: 'flex gap-2' },
                React.createElement('button', {
                  onClick: () => setFilter('all'),
                  className: `px-4 py-2 rounded-lg font-medium ${filter === 'all' ? 'bg-orange-500 text-white' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}`
                }, `Ø§Ù„ÙƒÙ„ (${recipes.length})`),
                React.createElement('button', {
                  onClick: () => setFilter('favorites'),
                  className: `px-4 py-2 rounded-lg font-medium flex items-center gap-2 ${filter === 'favorites' ? 'bg-orange-500 text-white' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}`
                },
                  React.createElement(Heart, { className: 'w-4 h-4' }),
                  `Ø§Ù„Ù…ÙØ¶Ù„Ø© (${favorites.length})`
                )
              )
            )
          ),

          filteredRecipes.length === 0 ? React.createElement('div', { className: 'text-center py-16 bg-white rounded-2xl shadow-lg' },
            React.createElement('div', { className: 'text-6xl mb-4' }, 'ğŸ½ï¸'),
            React.createElement('h3', { className: 'text-xl font-bold text-gray-700 mb-2' }, 'Ù„Ø§ ØªÙˆØ¬Ø¯ ÙˆØµÙØ§Øª'),
            React.createElement('p', { className: 'text-gray-500' }, admin ? 'Ø§Ø¨Ø¯Ø£ Ø¨Ø¥Ø¶Ø§ÙØ© Ø£ÙˆÙ„ ÙˆØµÙØ©!' : 'Ù„Ù… ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø£ÙŠ ÙˆØµÙØ§Øª Ø¨Ø¹Ø¯')
          ) : React.createElement('div', { className: 'grid sm:grid-cols-2 lg:grid-cols-3 gap-6' },
            filteredRecipes.map(r => React.createElement(RecipeCard, {
              key: r.id, recipe: r,
              fav: favorites.includes(r.id),
              onFav: () => toggleFavorite(r.id),
              onOpen: () => setView(r),
              onEdit: () => setEditRecipe(r),
              onDelete: () => handleDelete(r.id),
              isAdmin: admin
            }))
          ),

          view && React.createElement(RecipeModal, { recipe: view, onClose: () => setView(null) }),
          editRecipe && React.createElement(EditModal, {
            recipe: editRecipe.id ? editRecipe : null,
            onSave: handleSaveRecipe,
            onClose: () => setEditRecipe(null)
          })
        )
      );
    }

    // Service Worker Registration
    if ('serviceWorker' in navigator) {
      const swCode = `
        const CACHE = 'recipes-v1';
        self.addEventListener('install', e => {
          e.waitUntil(caches.open(CACHE).then(cache => 
            cache.addAll(['/'])
          ));
        });
        self.addEventListener('fetch', e => {
          e.respondWith(
            caches.match(e.request).then(r => r || fetch(e.request))
          );
        });
      `;
      const blob = new Blob([swCode], { type: 'application/javascript' });
      const swUrl = URL.createObjectURL(blob);
      navigator.serviceWorker.register(swUrl);
    }

    ReactDOM.createRoot(document.getElementById('app')).render(React.createElement(App));
  </script>
</body>
</html>
